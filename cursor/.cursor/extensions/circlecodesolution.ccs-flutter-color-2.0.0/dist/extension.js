(()=>{"use strict";var e={159:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(764);class o extends n.default{getRegex(){return/(#[a-f0-9A-F]{6,8})/}parseColor(e){const t=e.replace("#",""),r=new ArrayBuffer(4);new DataView(r).setUint32(0,parseInt(t,16),!1);const n=new Uint8Array(r);return 6===t.length?{r:n[1],g:n[2],b:n[3],o:255}:{r:n[1],g:n[2],b:n[3],o:n[0]}}formatColorLabel(e,t){return"#"+(0===t.alpha?`${e(t.red)}${e(t.green)}${e(t.blue)}`:`${e(t.alpha)}${e(t.red)}${e(t.green)}${e(t.blue)}`).toUpperCase()}}t.default=o},764:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{formatColor(e){return this.formatColorLabel((e=>{const t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}),e)}}},835:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(764);class o extends n.default{getRegex(){return/(0x[a-f0-9A-F]{8})/}parseColor(e){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,parseInt(e.substring(2),16),!1);const r=new Uint8Array(t);return{r:r[1],g:r[2],b:r[3],o:r[0]}}formatColorLabel(e,t){return"0x"+`${e(t.alpha)}${e(t.red)}${e(t.green)}${e(t.blue)}`.toUpperCase()}}t.default=o},524:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(764);class o extends n.default{getRegex(){return/(#[a-f0-9A-F]{6,8})/}parseColor(e){const t=e.replace("#",""),r=new ArrayBuffer(4);new DataView(r).setUint32(0,parseInt(t,16),!1);const n=new Uint8Array(r);return 6===t.length?{r:n[1],g:n[2],b:n[3],o:255}:{r:n[0],g:n[1],b:n[2],o:n[3]}}formatColorLabel(e,t){return"#"+(255===t.alpha?`${e(t.red)}${e(t.green)}${e(t.blue)}`:`${e(t.red)}${e(t.green)}${e(t.blue)}${e(t.alpha)}`).toUpperCase()}}t.default=o},554:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROXY_URL=t.EXTENSION_ID=void 0,t.EXTENSION_ID="circlecodesolution.ccs-flutter-color",t.PROXY_URL="http://65.1.61.75:8080"},756:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryEnum=void 0,function(e){e.install="Install",e.uninstall="Uninstall",e.deactivate="Deactivate",e.update="Update",e.colorPickerUsed="Color Picker Used"}(r||(t.TelemetryEnum=r={}))},940:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryTypeEnum=void 0,function(e){e.base="base",e.editor="editor",e.both="both"}(r||(t.TelemetryTypeEnum=r={}))},723:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function i(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sendTrackingEvent=t.activateTracking=void 0;const o=r(76),a=r(776),s=r(960),i=r(398),l=r(940);t.activateTracking=()=>n(void 0,void 0,void 0,(function*(){const{machineId:e,isTelemetryEnabled:t}=i.env;if(!t)return;let r=(0,a.default)();r=(0,o.default)(r)})),t.sendTrackingEvent=(e,t,r)=>n(void 0,void 0,void 0,(function*(){const{machineId:n,isTelemetryEnabled:u}=i.env;u&&(0,o.default)(Object.assign(Object.assign(Object.assign({},t),(()=>{switch(r){case l.TelemetryTypeEnum.base:return(0,a.default)();case l.TelemetryTypeEnum.editor:return(0,s.default)();case l.TelemetryTypeEnum.both:return Object.assign(Object.assign({},(0,a.default)()),(0,s.default)());default:return{}}})()),{distinct_id:n,tracking_event:e}))}))},158:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(398),o=r(723),a=r(756),s=r(940),i=r(835),l=r(524),u=r(159);t.default=class{constructor(){this.strategies=new Map,this.strategies.set("default",new l.default),this.strategies.set("flutter",new i.default),this.strategies.set("argb",new u.default)}getStrategy(e){let t;switch(e.languageId){case"dart":t=this.strategies.get("flutter");break;case"qml":t=this.strategies.get("argb")}return t||this.strategies.get("default")}provideDocumentColors(e){if(["css","less","scss"].includes(e.languageId))return;const t=this.getStrategy(e),r=this.extractColors(e,t);return this.sendTrackingEvent(e,r),r}extractColors(e,t){const r=[],n=e.getText().split("\n"),o=t.getRegex();return n.forEach(((e,a)=>{this.extractColorsFromLine(a,n,o,t,r)})),r}extractColorsFromLine(e,t,r,o,a){let s=t[e].match(r);for(;null!==s&&void 0!==s.index;){const i=new n.Range(new n.Position(e,s.index),new n.Position(e,s.index+s[1].length)),l=o.parseColor(s[1]);t[e]=t[e].replace(s[1],new Array(s[1].length).fill("*").join(""));const u=new n.ColorInformation(i,new n.Color(l.r/255,l.g/255,l.b/255,l.o/255));a.push(u),s=t[e].match(r)}}sendTrackingEvent(e,t){var r;(0,o.sendTrackingEvent)(a.TelemetryEnum.colorPickerUsed,{color:null===(r=t[0])||void 0===r?void 0:r.color,colorPickerType:"dart"===e.languageId?"flutter":"all"},s.TelemetryTypeEnum.editor)}provideColorPresentations(e,t){const r=this.getStrategy(t.document).formatColor(e);return[new n.ColorPresentation(r)]}}},76:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=e=>{if("object"!=typeof e||null===e)return e;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n.replace(/([A-Z])/g,"_$1").toLowerCase()]=r(e[n]));return t};t.default=r},776:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(554),o=r(398),a=r(857),s=o.extensions.getExtension(n.EXTENSION_ID),i=(0,a.platform)(),l=(0,a.release)(),u=o.env.language,c=o.env.machineId;t.default=()=>{const e=s.packageJSON.version,t=o.env.appName,r=o.env.appHost,n=o.version;return{$os:i,operatingSystem:i,osVersion:l,userLanguage:u,vsCodeVersion:n,pluginVersion:e,appName:t,appHost:r,machineId:c}}},960:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(398);t.default=()=>{var e,t;const{machineId:r,sessionId:o}=n.env;return{editorType:null!==(t=null===(e=n.window.activeTextEditor)||void 0===e?void 0:e.document.languageId)&&void 0!==t?t:"unknown",machineId:r,sessionId:o}}},398:e=>{e.exports=require("vscode")},857:e=>{e.exports=require("os")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=function(e){(0,s.activateTracking)(),u(e);const r=new o.default;let n=t.languages.registerColorProvider({pattern:"**/*"},r);e.subscriptions.push(n),(0,s.sendTrackingEvent)(i.TelemetryEnum.install,{},l.TelemetryTypeEnum.base)},e.deactivate=function(){(0,s.sendTrackingEvent)(i.TelemetryEnum.deactivate,{},l.TelemetryTypeEnum.base)};const t=r(398),o=r(158),a=r(554),s=r(723),i=r(756),l=r(940),u=e=>{const r=t.extensions.getExtension(a.EXTENSION_ID).packageJSON.version,n=e.globalState.get("extensionVersion");n&&n!==r&&(0,s.sendTrackingEvent)(i.TelemetryEnum.update,{previousVersion:n,currentVersion:r},l.TelemetryTypeEnum.base),e.globalState.update("extensionVersion",r)}})(),module.exports=n})();